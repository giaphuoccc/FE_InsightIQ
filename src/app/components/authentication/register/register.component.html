<div class="register-container">
  <div class="register-panel">
    <!-- Left column: logo + illustration -->
    <div class="register-left">
      <div class="logo">
        <img src="logo.jpg" alt="Insight IQ Logo" />
      </div>
      <h1>Welcome to<br />Insight IQ</h1>
      <div class="illustration">
        <img src="https://cdn.builder.io/api/v1/image/assets/TEMP/898d2df0629157273af2a73cba401d05261bb3de" alt="Registration Illustration" />
      </div>
    </div>

    <!-- Right column: form -->
    <div class="register-right">
      <h2>Register Account</h2>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- === BASIC AUTHENTICATION === -->
        <section>
          <h3>Basic authentication information</h3>

          <div class="form-group">
            <input
              type="email"
              formControlName="email"
              placeholder="Enter your email address"
              [ngClass]="{ invalid: isFieldInvalid('email') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('email')">
              {{ getErrorMessage('email') }}
            </div>
          </div>

          <div class="form-group">
            <input
              type="password"
              formControlName="password"
              placeholder="Password"
              [ngClass]="{ invalid: isFieldInvalid('password') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('password')">
              {{ getErrorMessage('password') }}
            </div>
          </div>

          <div class="form-group">
            <input
              type="password"
              formControlName="confirmPassword"
              placeholder="Confirm password"
              [ngClass]="{ invalid: isFieldInvalid('confirmPassword') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('confirmPassword')">
              {{ getErrorMessage('confirmPassword') }}
            </div>
          </div>
        </section>

        <!-- === CONTACT INFORMATION === -->
        <section>
          <h3>Contact information</h3>

          <div class="form-group">
            <input
              type="text"
              formControlName="fullName"
              placeholder="Full name"
              [ngClass]="{ invalid: isFieldInvalid('fullName') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('fullName')">
              {{ getErrorMessage('fullName') }}
            </div>
          </div>

          <div class="form-group">
            <input
              type="tel"
              formControlName="phone"
              placeholder="Phone"
              [ngClass]="{ invalid: isFieldInvalid('phone') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('phone')">
              {{ getErrorMessage('phone') }}
            </div>
          </div>
        </section>

        <!-- === BUSINESS INFORMATION === -->
        <section>
          <h3>Business information</h3>

          <div class="form-group">
            <input
              type="text"
              formControlName="companyName"
              placeholder="Company name"
              [ngClass]="{ invalid: isFieldInvalid('companyName') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('companyName')">
              {{ getErrorMessage('companyName') }}
            </div>
          </div>

          <div class="form-group">
            <input
              type="text"
              formControlName="taxCode"
              placeholder="Tax code"
              [ngClass]="{ invalid: isFieldInvalid('taxCode') }"
            />
            <div class="error-message" *ngIf="isFieldInvalid('taxCode')">
              {{ getErrorMessage('taxCode') }}
            </div>
          </div>
        </section>

        <!-- === ACTIONS === -->
        <div class="form-actions">
          <button
            type="submit"
            class="btn-confirm"
            [disabled]="registerForm.invalid || isSubmitting"
          >
            <span *ngIf="!isSubmitting">Confirm</span>
            <span *ngIf="isSubmitting" class="spinner"></span>
          </button>
        </div>

        <div class="form-footer">
          <p>Already have an account?
            <a routerLink="/auth/login">Log in</a>
          </p>
        </div>
      </form>
    </div>
  </div>
</div>
